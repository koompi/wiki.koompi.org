---
title: "ព័ត៌មានពី Cache"
date: 2018-12-29T11:02:05+06:00
lastmod: 2020-01-05T10:42:26+06:00
draft: false
# search related keywords
keywords: ["induct", "instate"]
---
**Pi** រក្សាទុកកញ្ចប់ដែលបានទាញយកមកតម្លើងនៅក្នុង `/var/cache/pacman/pkg/` ហើយមិនបានលុបversionចាស់ៗ ឬលុបចេញដោយស្វ័យប្រវត្តិនោះទេ។ ទាំងនេះមានគុណសម្បត្តិមួយចំនួន៖

1. វាបន្សល់ទុក កញ្ចប់ Version មុនៗ ដែលបានទាញយកមកប្រើប្រាស់ដូចជា `Arch Linux Archive`។
2. កញ្ចប់មួយដែលធ្លាប់បានតំឡើងអាចទាញយកមកវិញយ៉ាងងាយស្រួលពី ផ្នែកនេះដោយមិន តម្រូវឱ្យមានការទាញយកថ្មីពី serverឡើយ។ 

ទោះយ៉ាងណាក៏ដោយយើងចាំបាច់ត្រូវធ្វើការលុបចោលផ្នែកនេះជាទៀងទាត់ ដើម្បីការពារកុំអោយ  វាកើន ទំហំកាន់តែច្រើនហួសដែនកំណត់។

`paccache` ដែលបានផ្តល់នៅក្នុងកញ្ចប់ `pacman-contrib` នឹងលុបរាល់កញ្ចប់ដែលបានតម្លើងក្នុងឃ្លាំង លើកលែងតែកញ្ចប់ ៣ ចុងក្រោយបំផុតតាមលំនាំដើមតែប៉ុណ្ណោះ៖
```
paccache -r
```
**ការធ្វើការបើកដំណើរការនិងចាប់ផ្តើម** `paccache.timer` ដើម្បីបោះបង់ចោលកញ្ចប់ដែលមិនត្រូវការប្រើជា ប្រចាំសប្តាហ៍។

{{< notice tip >}}
អ្នកអាចបង្កើត `hook` ដើម្បីដំណើរការវាដោយស្វ័យប្រវត្តិ។
{{< /notice >}}

សម្រាប់ជម្រើសច្រើនទៀតនៃ `paccache`ធ្វើការបញ្ចូលពាក្យបញ្ជាខាងក្រោម:
```
paccache -h
```
**Pacman**ក៏មានជម្រើសដែលមានស្រាប់ផងដែរក្នុងការសំអាតឃ្លាំង និងឯកសារទិន្នន័យក្នុងឃ្លាំងដែលនៅសល់ និងដែលមិនត្រូវបានរាយនៅក្នុង `/etc/pacman.conf` ។

ទោះយ៉ាងណា *Pacman* មិនផ្តល់នូវលទ្ធភាព ដើម្បីរក្សានូវversionចាស់ៗ ដូច្នេះវាកាន់តែខ្លាំងក្លាជាងជម្រើសលំនាំ ដើមរបស់ paccache ។

ដើម្បីលុប `កញ្ចប់ក្នុងCache` ដែលមិនស្ថិតក្នុងversionបច្ចុប្បន្ននិងមិនបានប្រើក្នុងប្រព័ន្ធប្រតិបត្តិការ៖
```
pi -Sc
```
ដើម្បីយកឯកសារទាំងអស់ចេញពីcache សូមប្រើ`clean switch twice`, វិធីសាស្រ្តនេះមានប្រសិទិ្ធភាពខ្លំាង និងមិនទុកអ្វីទាំងអស់។

```
pi -Scc
```

{{< notice warning >}}
ចំណុចមួយគួរតែចៀសវាងការលុបចេញពីឃ្cacheទិន្នន័យជំនាន់មុនៗ នៃកញ្ចប់ដែលបានតម្លើង និងកញ្ចប់ដែលបានលុបទាំងអស់ ក្នុងករណីអ្នកត្រូវការ space។ វានឹងការពារversionឬតំឡើងកញ្ចប់ឡើងវិញដោយមិនចាំបាច់ទាញយកវាម្តងទៀត។
{{< /notice >}}

{{< notice tip >}}
ការធ្វើការសម្អាតកញ្ចប់ដោយស្វ័យប្រវត្តិគួរតែធ្វើការកំណត់វា។
{{< /notice >}}

ប្រសិនបើអ្នកខ្ជិលពេកក្នុងការសម្អាតឃ្លាំងសម្ងាត់កញ្ចប់ដោយខ្លួនអ្នក អ្នកអាចធ្វើការលុបវាដោយស្វ័យប្រវត្តិ ដោយ `Hook`នោះ Pacman នឹងសម្អាតកញ្ចប់ដោយស្វ័យប្រវត្តិ បន្ទាប់ពីដំណើរការ Pacman ។


ដើម្បីបង្កើតfileបានក្នុង /etc/pacman.d/hooks/clean_package_cache.hook, ចូលអ្នកដំណើរការតាមខាងក្រោម៖
```
sudo mkdir /etc/pacman.d/hooks
```
បន្ទាប់មក៖
```
sudo nano /etc/pacman.d/hooks/clean_package_cache.hook
```
ធ្វើការដាក់codeដែលមាននៅខាងក្រោម៖
```
[Trigger]
Operation = Upgrade
Operation = Install
Operation = Remove
Type = Package
Target = *
[Action]
Description = Cleaning pacman cache...
When = PostTransaction
Exec = /usr/bin/paccache -r
```
ចូរអ្នកធ្វើការរក្សាទុកនិងបិទ ហើយចាប់ពីពេលនេះកញ្ចប់នឹងត្រូវបានសម្អាតដោយស្វ័យប្រវត្តិបន្ទាប់ពីប្រតិបត្តិការរបស់ Pacman (ដូចជាការតម្លើងុំ និងលុបជាដើម) ។ អ្នកមិនចាំបាច់ធ្វើការបញ្ជាពាក្យបញ្ជា paccache ដោយផ្ទាល់នោះឡើយ។

----
----

